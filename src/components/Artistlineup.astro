---
import Artistimg from "../components/Artistimg.astro";

const artists = await fetch(
  "https://qrmsxsqepinalqgbykma.supabase.co/rest/v1/artists?",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFybXN4c3FlcGluYWxxZ2J5a21hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg2MzkwMzIsImV4cCI6MjA0NDIxNTAzMn0.-c24Labp4ehDyWSghIjoa_klzOKVqUva3hzdr5e8BUQ",
    },
  }
).then((Response) => Response.json());
---

<section class="container">
  <p id="stage1">Stage 1 <br /> Manegen</p>
  <p id="stage2">Stage 2 <br /> Tribunen</p>

  {
    artists.map((artist) => {
      return <Artistimg artistdata={artist} />;
    })
  }
</section>
<style>
  .container {
    /* height: fit-content; */
    /* outline: dashed 2px red; */
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-template-rows: repeat(4, 1fr);

    justify-content: center;
  }

  #stage1 {
    grid-column: 1/3;
    grid-row: 1/3;

    align-self: center;
  }
  #stage2 {
    grid-column: 1/3;
    grid-row: 3/5;

    align-self: center;
  }
</style>
